{% extends 'base.html' %}
{% load static %}
{% block title %} Product List {% endblock %}
{% block link %} {% static 'css/list.css' %}{% endblock %}

{% block content %}

    <form action="{% url 'search' %}" method="post">
        {% csrf_token %}
            <div class="search">
                <span class="search_title">가치가 궁금한 찐품명품을 검색해주세요!</span><br>
                <input  id="search_item" type="text" name="search_word" placeholder="검색어를 입력하세요">
                <button id="search_button">검색</button>
            </div>
    </form>

    <hr size="3px">

    <h1 class="title"> 측정 중인 찐품명품 </h1>
    <div class="order">
        <input type="checkbox" name="value[]" id="orderTime" value="11">
        <label for="orderTime">등록 순 정렬</label>
        </input>
        <input type="checkbox" name="value[]" id="orderName" value="12">
        <label for="orderName">이름 순 정렬</label>
        </input>
        <input type="checkbox" name="value[]" id="orderCount" value="13">
            <label for="orderCount">인기 순 정렬</label>
        </input>
    </div>

    {% if search_word %}
        <!-- 검색어가 있을 때 -->
        <span class="search_result"><strong>{{search_word}}</strong>에 대한 검색 결과입니다.</span>
    {% else %}
        <!-- <span>검색어를 입력하세요.</span> -->
    {% endif%}

    {% for product in products %}
    <div class="content">
        <div class="list_body">
            <span id="list_title"><strong>{{product.title}}</strong></span>
            <span id="count">조회 수 : {{product.clickCount}}회</span><br>
            <img src="{{product.image.url}}" width="200" height="200" ><br>
            <a href="{% url 'detail' product.id %}" id="list_detail">
                자세히 보기
            </a><br>
        </div>
    </div>

    {% endfor %}

    
    {% if products.has_previous %}
    <a href='?page={{products.previous_page_number}}'><</a>
    {% endif %}

    {% if search_word == NULL%}
    <span>{{products.number}}</span>
    <span>/</span>
    <span>{{products.paginator.num_pages}}</span>
    {% endif %}
    
    {% if products.has_next %}
    <a href='?page={{products.next_page_number}}'>></a>
    {% endif %}
{% endblock %}